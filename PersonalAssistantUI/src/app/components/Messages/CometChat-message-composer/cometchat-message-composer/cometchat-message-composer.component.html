<div class="chatComposerStyle">
  <div
    class="editPreviewContainerStyle"
    *ngIf="openEditMessageWindow"
    [@slideInOut]
  >
    <div class="previewHeadingStyle">
      <div class="previewTextStyle">{{ EDIT_MESSAGE }}</div>
      <span class="previewCloseStyle" (click)="closeEditPreview()"></span>
    </div>
    <div>{{ this.messageToBeEdited?.text }}</div>
  </div>
  <div class="composerInputStyle">
    <div class="inputInnerStyle" tabindex="-1">
      <input
        class="messageInputStyle"
        contenteditable="true"
        [placeholder]="ENTER_YOUR_MESSAGE_HERE"
        dir="ltr"
        (input)="changeHandler($event)"
        (blur)="endTyping()"
        (keyup)="sendMessageOnEnter($event)"
        [value]="messageInput"
        #message
      />
      <div class="inputStickyStyle">
        <div class="stickyAttachmentStyle">
          <!--All file upload options starts here-->
          <div class="attachmentIconStyle" (click)="toggleFilePicker()">
            <span>&nbsp;</span>
          </div>

          <span
            [title]="ATTACH_VIDEO"
            (click)="getVideo()"
            class="fileItemStyle"
            id="video"
            [@FadeInFadeOut]="checkAnimatedState"
          >
            <input
              type="file"
              accept="video/*"
              #videoPicker
              (change)="onVideoChange($event)"
            />
          </span>
          <span
            [title]="ATTACH_AUDIO"
            (click)="getAudio()"
            class="fileItemStyle"
            id="audio"
            [@FadeInFadeOut]="checkAnimatedState"
          >
            <input
              type="file"
              accept="audio/*"
              #audioPicker
              (change)="onAudChange($event)"
            />
          </span>
          <span
            [title]="ATTACH_IMAGE"
            (click)="getImage()"
            class="fileItemStyle"
            id="image"
            [@FadeInFadeOut]="checkAnimatedState"
          >
            <input
              type="file"
              accept="image/*"
              #imagePicker
              (change)="onImgChange($event)"
            />
          </span>
          <span
            [title]="ATTACH_FILE"
            (click)="getFile()"
            class="fileItemStyle"
            id="file"
            [@FadeInFadeOut]="checkAnimatedState"
          >
            <input
              type="file"
              accept="file/*"
              #filePicker
              (change)="onFileChange($event)"
            />
          </span>          
        </div>
        <div class="stickyButtonStyle">
          <span
            id="send"
            title="send message"
            *ngIf="enableSendButton"
            class="sendButtonStyle"
            (click)="sendTextMessage(message.value)"
          >
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- oninput onblur onkeydown to be inplemented -->
